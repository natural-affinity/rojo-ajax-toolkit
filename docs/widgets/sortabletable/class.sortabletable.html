<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "/DTD/xhtml1-Strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- 
    @project XHTML 1.0 Strict SortableTable Widget Documentation
    @author Rizwan Tejpar <rtejpar@ca.ibm.com>
    @version 1.0
    @updated 10/22/12
    @verified 07/22/07 (W3C Validator)
    @browser IE6, IE7, Firefox 1.5, Firefox 2
    @disclaimer
            Any references or links in this document to non-IBM Web sites are provided for convenience 
            only and do not in any manner serve as an endorsement of those non-IBM Web sites or their 
            owners. The materials at the non-IBM Web sites are not owned or licensed by IBM and use of 
            those non-IBM Web sites is at your own risk. IBM makes no representations, warranties, or 
            other commitments whatsoever about any non-IBM Web sites or third-party resources that may 
            be referenced, accessible from, or linked from this document. In addition, IBM is not a 
            party to or responsible for any transactions you may enter into with third parties, even if 
            you learn of such parties (or use a link to such parties) from this document. You are 
            responsible for compliance with any license terms or other obligations for use of the 
            non-IBM Web sites in respect of your use of those non-IBM Web sites. You acknowledge and 
            agree that IBM is not responsible for the availability of such external sites or resources, 
            and is not responsible or liable for any content, services, products, or other materials on 
            or available from those sites or resources. 
    @disclaimer
            (c) Copyright IBM Corp. 2007 All rights reserved. 

            The following sample of source code ("Sample") is owned by International Business Machines 
            Corporation or one of its subsidiaries ("IBM") and is copyrighted and licensed, not sold. 

            The Sample is not part of any standard IBM product. You may use, copy, modify, and distribute 
            the Sample in any form without payment to IBM, for the purpose of assisting you in the 
            development of your applications.

            The Sample code is provided to you on an "AS IS" basis, without warranty of any kind. 

            IBM HEREBY EXPRESSLY DISCLAIMS ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING, BUT NOT 
            LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. 

            Some jurisdictions do not allow for the exclusion or limitation of implied warranties, so the 
            above limitations or exclusions may not apply to you. IBM shall not be liable for any damages 
            you suffer as a result of using, copying, modifying or distributing the Sample, even if IBM 
            has been advised of the possibility of such damages.    
  -->
  <head>
    <title>DB2 Health Monitor Sample Application for PHP</title>
    <link rel="stylesheet" type="text/css" href="../../nav.css"></link>
  </head>

  <body style="margin:0px">
    <table style="width:100%" cellspacing="0px" cellpadding="0px">
      <tr>
        <td rowspan="2" style="background-image:url('../../images/DB_nav_tile.gif');width:200px" valign="top"></td>
        <td>
          <table style="width:100%" cellspacing="0" cellpadding="0">
              <tr class="bannerBG">
                <td>
                <img src="../../images/en_US/im_ban.bmp" alt="IBM Information Management" />
                </td>
                <td style="text-align:right">
                <img src="../../images/FS_ban_IBMLogo.gif" alt="IBM" />
                </td>
            </tr>
          </table>
        </td>
      </tr>
        <tr>
          <td class="content">
          <div class="content_width">
            <h1 class="head1">SortableTable Widget Documentation</h1>
            <br />

            <table cellspacing="0" cellpadding="0">
                <tr>
                <td class="tableText" valign="top">
                  The SortableTable widget was designed in JavaScript and attempts to provide a
                  simple, reusable mechanism for adding any number of SortableTables to an HTML
                  Web-page.

                  <br /><br />
                  Internally, the JavaScript class stores the structure of the SortableTable as an
                  HTML DOM object.  After the SortableTable is appended to a Web-page you can see that
                  it is a set of HTML tags combined in a special way to look like a sortable table.

                  <br /><br />
                  Although JavaScript must be written to build the widget, it will ultimately
                  be reduced to a set of HTML tags when you view the source code of the Web-page.

                  <br /><br />
                  The SortableTable widget, unlike most of the other widgets, is largely event driven.
                  You should keep track of the events that are attached to the table by default and
                  the events that can be attached to the table using the SortableTable methods or
                  externally using DOM.
                </td>
              </tr>
            </table>

            <h1 class="head2green">Look and Feel</h1>
            <p style="text-align:center">
              <img src="./sortabletable.bmp" alt="sample sortable table"></img>
            </p>

            <h1 class="head2green">Logical Diagram</h1>
            <img src="./sortabletable_logical.bmp" alt="Logical Diagram"></img>

            <h1 class="head2green">Include Mechanism</h1>
            <p>
              To use this JavaScript class in a Web-page, please add the HTML script tag with the
              appropriate attributes to the HEAD section of the HTML document.  The path listed assumes
              that the file is located in the same directory as the HTML Web-page on which
              the widget will be used (although the include can be made in the BODY of the HTML
              document it is recommended to place it in the HEAD section to reduce load times).
            </p>
<pre style="background-color:lightgreen; width:600px;">
&lt;html&gt;
  &lt;head&gt;
    &lt;script type=&ldquo;text/javascript&rdquo; src=&ldquo;./class.dataset.js&rdquo;&gt;&lt;/script&gt;
    &lt;script type=&ldquo;text/javascript&rdquo; src=&ldquo;./class.sortabletable.js&rdquo;&gt;&lt;/script&gt;
  &lt;/head&gt;
&lt;html&gt;
</pre>				

            <h1 class="head2green">Browser Compatibility</h1>
            <p>
              This widget has been tested, and is supported on the following browsers:
            </p>
            <ul>
              <li>Firefox 1.5.x</li>
              <li>Firefox 2.0.x</li>
              <li>Internet Explorer 6</li>
              <li>Internet Explorer 7</li>
            </ul>

            <h1 class="head2green">HTML Structure</h1>
<pre style="background-color:lightgreen; width:600px;">
&lt;div&gt;                            &lt;!-- Container Node --&gt;
  &lt;table&gt;                        &lt;!-- Table Node --&gt;
    &lt;thead&gt;
      &lt;tr&gt;                       &lt;!-- Row Header Node --&gt;
        [&lt;th&gt;...&lt;/th&gt;]*          &lt;!-- Column Header Nodes --&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;                      &lt;!-- Body Node --&gt;
      [&lt;tr&gt;                      &lt;!-- Row Nodes --&gt;
        [&lt;td&gt;...&lt;/td&gt;]*          &lt;!-- Column Nodes --&gt;
       &lt;/tr&gt;]*
    &lt;/tbody&gt;
  &lt;/table&gt;
&lt;/div&gt;	
</pre>						

            <h1 class="head2green">Event Queuing System</h1>
            <img src="./event_queue_system.bmp" alt="Event Queue Diagram" />
            <p>
              One of the more complex algorithms (sub-systems) within the
              SortableTable is the Event Queuing System.  The rationale behind the
              creation of such a system was to guarantee the order in which events
              are executed for a particular event type.  For example, if ten &quot;click&quot; events
              are bound to each row of the SortableTable and the user
              clicks on any row, each of the ten &quot;click&quot; events should fire
                in the order in which the programmer bound them to the rows.
              The same goes for any other event type.

              <br /><br />
              Each browser uses a different implementation for handling events,
              and therefore, it was necessary to create a queuing system to
              guarantee the order of execution within the context of a particular
              event type.

              <br /><br />
              Upon the construction of the SortableTable widget (that is, the programmer
              has called the construct() method), data rows are extracted from
              the DataSet object and are converted to table rows.  When each
              row is created the method checks to see if there are any event
              listeners that should be attached to the row.

              <br /><br />
              If there are, the &quot;m_event_types&quot; array is initialized for that row
              (a one-dimensional array).  The algorithm
              scans each event that was added to &quot;m_row_events&quot;.  Although
              the diagram depicts multiple or multi-dimensional aspects to the
              &quot;m_row_events&quot; array, it is one-dimensional.  While scanning
              the &quot;m_row_events&quot; array, an element is added to &quot;m_event_types&quot;
              for each unique type of event that is found.  For example, if there
              are ten &quot;click&quot; events and five &quot;mouseover&quot; events in
              &quot;m_row_events&quot;, only one &quot;click&quot; event and one &quot;mouseover&quot;
              event are added to &quot;m_event_types&quot;.

              <br /><br />
              Once the &quot;m_event_types&quot; array holds a record of the types of events
              that must be bound to the table rows, the binding process begins.
              For each event type in &quot;m_event_types&quot; an event is bound
              to the row that holds a reference to the eventQueue() method.  Regardless
              of the type of event, each will call the eventQueue() method.

              <br /><br />
              After the SortableTable is built users can interact with it.  For example,
              a user can position the mouse cursor over a table row causing a &quot;mouseover&quot;
              event to fire.  Regardless of the type of event, the eventQueue() method is called.

              <br /><br />
              Implicitly, as can be seen from the class documentation, the eventQueue()
              method takes an event object.  The object holds information about the type
              of event that was fired.  For example, if the &quot;mouseover&quot; event fired,
              the eventQueue() method iterates over the &quot;m_row_events&quot; array and
              executes the desired events (that is, bound function calls),
              in the order in which they were found within the array.  Therefore, a
              single array is used as a queuing system for events.
            </p>

            <h1 class="head2green">Sort Mapping System</h1>
            <img src="./sort_mapping_system.bmp" alt="Sort Mapping Diagram" />
            <p>
              The concept behind the sort mapping system follows the idea that you have
              an array (external to the SortableTable) whose information stored each each element
              is directly related to the information found each in row
              of the SortableTable.  The array elements directly map (1:1),
              to the data rows (that is, a row that is not a header) of the SortableTable.

              <br /><br />
              In the case of the DB2 Health Monitor Application for PHP, the XML health
              report that is received contains a series of health alerts, each of which
              is represented as a node within the document.  Upon parsing the document,
              the health alerts are extracted and stored as DOM nodes within a single array.
              Based on the health alerts, entries are created in the SortableTable containing
              a small subset of the health information.  Other alert information is displayed
              elsewhere on the page when rows are clicked.

              <br /><br />
              However, when the table is sorted, all health alert information in the table
              is reordered.  Therefore, it might become nearly impossible to determine
              which of the alerts was selected by the user on the table with such a small
              amount of information.  An external array (that is, &quot;m_map&quot;) should be
              sorted along with the SortableTable rows so that using the row index
              and the corresponding element index, it is possible to determine the
              information that was selected.
            </p>


            <h1 class="head2green">Class Diagram</h1>
            <img src="./sortabletable_class.bmp" alt="Class Diagram" />


            <h1 class="head2green">Class Documentation</h1>
            <ul>
              <li>
                Attributes:
                <ul>
                  <li>
                    <a href="#m_container_id" class="solo">m_container_id</a>,
                    <a href="#m_table_id" class="solo">m_table_id</a>,
                    <a href="#m_container_class" class="solo">m_container_class</a>,
                    <a href="#m_table_class" class="solo">m_table_class</a>,
                    <a href="#m_body_class" class="solo">m_body_class</a>,
                    <a href="#m_row_header_class" class="solo">m_row_header_class</a>,
                    <a href="#m_row_class" class="solo">m_row_class</a>,
                    <a href="#m_row_alt_class" class="solo">m_row_alt_class</a>,
                    <a href="#m_row_highlight_class" class="solo">m_row_highlight_class</a>,
                    <a href="#m_col_header_class" class="solo">m_col_header_class</a>,
                    <a href="#m_col_class" class="solo">m_col_class</a>,
                    <a href="#m_last_row" class="solo">m_last_row</a>,
                    <a href="#m_sort_style" class="solo">m_sort_style</a>,
                    <a href="#m_last_sort_col_num" class="solo">m_last_sort_col_num</a>,
                    <a href="#m_row_events" class="solo">m_row_events</a>,
                    <a href="#m_event_types" class="solo">m_event_types</a>,
                    <a href="#m_col_display" class="solo">m_col_display</a>,
                    <a href="#m_col_order" class="solo">m_col_order</a>,
                    <a href="#m_map" class="solo">m_map</a>,
                    <a href="#m_dom" class="solo">m_dom</a>
                  </li>
                </ul>
              </li>
              <li>
                Methods:
                <ul>
                  <li>
                    <a href="#SortableTable" class="solo">SortableTable()</a>,
                    <a href="#sortNum" class="solo">sortNum()</a>,
                    <a href="#getColType" class="solo">getColType()</a>,
                    <a href="#sortCol" class="solo">sortCol()</a>,
                    <a href="#selectRow" class="solo">selectRow()</a>,
                    <a href="#highlightRow" class="solo">highlightRow()</a>,
                    <a href="#restoreRow" class="solo">restoreRow()</a>,
                    <a href="#scrollFix" class="solo">scrollFix()</a>,
                    <a href="#eventQueue" class="solo">eventQueue()</a>,
                    <a href="#purgeEvents" class="solo">purgeEvents()</a>,
                    <a href="#getContainerId" class="solo">getContainerId()</a>,
                    <a href="#getTableId" class="solo">getTableId()</a>,
                    <a href="#getDOM" class="solo">getDOM()</a>,
                    <a href="#getLastRow" class="solo">getLastRow()</a>,
                    <a href="#addRowListener" class="solo">addRowListener()</a>,
                    <a href="#setMap" class="solo">setMap()</a>,
                    <a href="#setContainerClass" class="solo">setContainerClass()</a>,
                    <a href="#setTableClass" class="solo">setTableClass()</a>,
                    <a href="#setBodyClass" class="solo">setBodyClass()</a>,
                    <a href="#setRowHeaderClass" class="solo">setRowHeaderClass()</a>,
                    <a href="#setColHeaderClass" class="solo">setColHeaderClass()</a>,
                    <a href="#setRowHighlightClass" class="solo">setRowHighlightClass()</a>,
                    <a href="#setRowSelectedClass" class="solo">setRowSelectedClass()</a>,
                    <a href="#setRowClass" class="solo">setRowClass()</a>,
                    <a href="#setRowAltClass" class="solo">setRowAltClass()</a>,
                    <a href="#setColClass" class="solo">setColClass()</a>,
                    <a href="#setColumnDisplay" class="solo">setColumnDisplay()</a>,
                    <a href="#setColumnOrder" class="solo">setColumnOrder()</a>,
                    <a href="#construct" class="solo">construct()</a>,
                    <a href="#destruct" class="solo">destruct()</a>
                  </li>
                </ul>
              </li>
            </ul>


            <h1 class="head2green">Attributes</h1>

            <h5 id="m_container_id" class="small">m_container_id</h5>
            <p>&nbsp;&nbsp;The &quot;id&quot; given to the SortableTable container when rendered as HTML
                     [Container Node]
            </p>

            <h5 id="m_table_id" class="small">m_table_id</h5>
            <p>&nbsp;&nbsp;The &quot;id&quot; given to the SortableTable when rendered as HTML [Table Node]</p>

            <h5 id="m_container_class" class="small">
              m_container_class
            </h5>
            <p>&nbsp;&nbsp;The name of the CSS class that will be given to the SortableTable container
                     [Container Node]
            </p>

            <h5 id="m_table_class" class="small">m_table_class</h5>
            <p>&nbsp;&nbsp;The name of the CSS class that will be given to the SortableTable
                     [Table Node]
            </p>

            <h5 id="m_body_class" class="small">m_body_class</h5>
            <p>&nbsp;&nbsp;The name of the CSS class that will be given to the SortableTable
                     [Body Node]
            </p>

            <h5 id="m_row_header_class" class="small">
              m_row_header_class
            </h5>
            <p>&nbsp;&nbsp;The name of the CSS class that will be given to the SortableTable
                     [Row Header Node]
            </p>

            <h5 id="m_row_class" class="small">m_row_class</h5>
            <p>&nbsp;&nbsp;The name of the CSS class that will be given to the SortableTable rows
                     [Row Nodes]
            </p>

            <h5 id="m_row_alt_class" class="small">m_row_alt_class</h5>
            <p>&nbsp;&nbsp;The name of the CSS class that will be given to the alternate SortableTable
                       rows [Row Nodes]
            </p>

            <h5 id="m_row_highlight_class" class="small">
              m_row_highlight_class
            </h5>
            <p>&nbsp;&nbsp;The name of the CSS class that will be given to the highlighted SortableTable
                     rows [Row Nodes]
            </p>

            <h5 id="m_row_selected_class" class="small">m_row_selected_class</h5>
            <p>&nbsp;&nbsp;The name of the CSS class that will be given to the selected SortableTable
                     rows [Row Nodes]
            </p>

            <h5 id="m_col_header_class" class="small">
              m_col_header_class
            </h5>
            <p>&nbsp;&nbsp;The name of the CSS class that will be given to the SortableTable
                     [Column Header Node]
            </p>

            <h5 id="m_col_class" class="small">m_col_class</h5>
            <p>&nbsp;&nbsp;The name of the CSS classes that will be given to the SortableTable columns
                     [Column Nodes]
            </p>

            <h5 id="m_last_row" class="small">m_last_row</h5>
            <p>&nbsp;&nbsp;The DOM object representing the last table row that was selected</p>

            <h5 id="m_sort_style" class="small">m_sort_style</h5>
            <p>&nbsp;&nbsp;The last type of sort used on a table column (Possible Values: asc | desc |
                     null)
            </p>

            <h5 id="m_last_sort_col_num" class="small">
              m_last_sort_col_num
            </h5>
            <p>&nbsp;&nbsp;The index of the last column that was sorted in the table (zero-based)</p>

            <h5 id="m_row_events" class="small">m_row_events</h5>
            <p>&nbsp;&nbsp;Stores the row events that were added with the
              <i class="small">
                addRowListener()
              </i>
              method
            </p>

            <h5 id="m_event_types" class="small">
              m_event_types
            </h5>
            <p>&nbsp;&nbsp;Stores the types of events that all rows have attached to them
                     (for example, click or dblclick)
            </p>

            <h5 id="m_col_display" class="small">m_col_display</h5>
            <p>&nbsp;&nbsp;Stores the display status of the SortableTable columns</p>

            <h5 id="m_col_order" class="small">m_col_order</h5>
            <p>&nbsp;&nbsp;Stores the order of the SortableTable columns</p>

            <h5 id="m_map" class="small">m_map</h5>
            <p>&nbsp;&nbsp;An array that represents a 1:1 mapping between the data rows of the
                     SortableTable [Row Nodes]
                 &nbsp;&nbsp;and its indicies.  Array elements are sorted to match those of the
                         SortableTable rows.
            </p>

            <h5 id="m_dom" class="small">m_dom</h5>
            <p>&nbsp;&nbsp;The SortableTable as an HTML DOM structure</p>


            <h1 class="head2green">Methods</h1>
            <h5 id="SortableTable" class="small">
              SortableTable (cont_id, table_id)
            </h5>
            <p>&nbsp;&nbsp;Construct an HTML SortableTable widget (internally stored as DOM) with default
                     row events<br /><br />
                 &nbsp;&nbsp;<b>Parameters: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cont_id - the &quot;id&quot; appended to the HTML top-level
                                     component [Container Node]<br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table_id - the &quot;id&quot; appended to the HTML component
                                     [Table Node]<br />
                 &nbsp;&nbsp;<b>Notes: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SortableTable Constructor
            </p>

            <h5 id="sortNum" class="small">sortNum (a, b)</h5>
            <p>&nbsp;&nbsp;Allows the JavaScript sort() function to sort numerical values<br /><br />
                 &nbsp;&nbsp;<b>Parameters: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a - the first number to use in the sort<br />
               &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b - the second number to use in the sort<br />
                 &nbsp;&nbsp;<b>Returns: </b><br />
               &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;integer - the difference between the numbers
            </p>

            <h5 id="getColType" class="small">getColType (colNum)</h5>
            <p>&nbsp;&nbsp;Determines the type of column that was selected to be sorted<br /><br />
                 &nbsp;&nbsp;<b>Parameters: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colNum - an integer value representing the index of the
                                     selected column (zero-based)<br />
                 &nbsp;&nbsp;<b>Returns: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String - the type of column (Possible Values: &quot;string&quot;
                                     or &quot;number&quot;)
            </p>

            <h5 id="sortCol" class="small">sortCol (evt)</h5>
            <p>&nbsp;&nbsp;Sorts the column in either ascending or descending order<br /><br />
                 &nbsp;&nbsp;<b>Parameters: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;evt - Implicit event object used to determine what DOM
                                     column header was clicked<br />
                 &nbsp;&nbsp;<b>Returns: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void
            </p>

            <h5 id="selectRow" class="small">selectRow (evt)</h5>
            <p>&nbsp;&nbsp;An event handler that colors the row in the table that was selected by the
                     user<br /><br />
                 &nbsp;&nbsp;<b>Parameters: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;evt - Implicit event object used to determine what DOM
                                     row was clicked<br />
                 &nbsp;&nbsp;<b>Returns: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void
            </p>

            <h5 id="highlightRow" class="small">highlightRow (evt)</h5>
            <p>&nbsp;&nbsp;An event handler that colors the row in the table that was hovered over by the
                     user<br /><br />
                 &nbsp;&nbsp;<b>Parameters: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;evt - Implicit event object used to determine what DOM
                                       row was hovered over<br />
                 &nbsp;&nbsp;<b>Returns: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void
            </p>

            <h5 id="restoreRow" class="small">restoreRow (evt)</h5>
            <p>&nbsp;&nbsp;An event handler that restores the rows' original color after the user has hovered off the <br />
                 &nbsp;&nbsp;previously highlighted row<br /><br />
                 &nbsp;&nbsp;<b>Parameters: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;evt - Implicit event object used to determine what DOM
                                     row lost focus<br />
                 &nbsp;&nbsp;<b>Returns: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void
            </p>

            <h5 id="scrollFix" class="small">scrollFix (evt)</h5>
            <p>&nbsp;&nbsp;Fixes the column headers while table scrolling occurs (IE 6, and 7)
                     <br /><br />
                 &nbsp;&nbsp;<b>Parameters: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;evt - Implicit Event object used to gain access to all
                                         DOM column headers<br />
                 &nbsp;&nbsp;<b>Returns: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void
            </p>

            <h5 id="eventQueue" class="small">eventQueue (evt)</h5>
            <p>&nbsp;&nbsp;Simulates an event queue for a particular type of event bound to a
                     SortableTable row. In other
                 &nbsp;&nbsp;words, it will execute all events of a specific type (for example, click or dblclick)
                             in the order that they
                 &nbsp;&nbsp;were added via <i class="small">addRowListener()</i>.<br /><br />
                 &nbsp;&nbsp;<b>Parameters: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;evt - Implicit Event object used to determine the type
                                     of events to execute<br />
                 &nbsp;&nbsp;<b>Returns: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void
            </p>

            <h5 id="purgeEvents" class="small">purgeEvents (evt)</h5>
            <p>
              &nbsp;&nbsp;Frees all memory associated with embedded SortableTable events<br /><br />
              &nbsp;&nbsp;<b>Returns: </b><br />
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void
            </p>

            <h5 id="getContainerId" class="small">getContainerId ()</h5>
            <p>
              &nbsp;&nbsp;Returns the &quot;id&quot; given to the SortableTable container (div tag)<br /><br />
              &nbsp;&nbsp;<b>Returns: </b><br />
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class="small">m_container_id</i>
            </p>

            <h5 id="getTableId" class="small">getTableId ()</h5>
            <p>
              &nbsp;&nbsp;Returns the &quot;id&quot; given to the SortableTable (table tag)<br /><br />
              &nbsp;&nbsp;<b>Returns: </b><br />
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class="small">m_table_id</i>
            </p>

            <h5 id="getDOM" class="small">getDOM ()</h5>
            <p>
              &nbsp;&nbsp;Return the DOM representation of the SortableTable<br /><br />
              &nbsp;&nbsp;<b>Returns: </b><br />
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class="small">m_dom</i>
            </p>

            <h5 id="getLastRow" class="small">getLastRow ()</h5>
            <p>
              &nbsp;&nbsp;Returns the DOM representation of the last row that was clicked
                    (tr element)<br /><br />
              &nbsp;&nbsp;<b>Returns: </b><br />
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class="small">m_last_row</i>
            </p>

            <h5 id="addRowListener" class="small">
              addRowListener (evt, fn_ref, flag)
            </h5>
            <p>
              &nbsp;&nbsp;Adds an event listener to all rows of the table (tbody rows) each time
                    the SortableTable is constructed <br /><br />
              &nbsp;&nbsp;<b>Parameters: </b><br />
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;evt - The name of the event to apply to the DOM row
                                                      (tr tag) i.e. (click | load | dblclick | mouseover |
                                                                     mouseout | mousemove)<br />
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fn_ref - A reference or handle to the function to call
                                    when the event is triggered<br />
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flag - A boolean value (see Mozilla addActionListener
                                      documentation); usually false <br />
              &nbsp;&nbsp;<b>Returns: </b><br />
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boolean
            </p>

            <h5 id="setMap" class="small">setMap (map_array)</h5>
            <p>
              &nbsp;&nbsp;Binds the map array (1:1) to the data rows of the table with regards to
                    sorting <br /><br />
              &nbsp;&nbsp;<b>Parameters: </b><br />
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map_array - an array that represents a 1:1 mapping
                                      between array indicies and the table data rows
                                      (that is, it does not count the column headers as a row)
                                      <br />
              &nbsp;&nbsp;<b>Returns: </b><br />
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class="small">m_last_row</i>
            </p>


            <h5 id="setContainerClass" class="small">
              setContainerClass (css_class)
            </h5>
            <p>
               &nbsp;&nbsp;Sets the name of the CSS class that will be given to the SortableTable
                       container (div tag) <br /><br />
                 &nbsp;&nbsp;<b>Parameters: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;css_class - name of the CSS class to use for the
                                     SortableTable container<br />
                 &nbsp;&nbsp;<b>Returns: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void
            </p>

            <h5 id="setTableClass" class="small">
              setTableClass (css_class)
            </h5>
            <p>
               &nbsp;&nbsp;Sets the name of the CSS class that will be given to the SortableTable
                       (table tag) <br /><br />
                 &nbsp;&nbsp;<b>Parameters: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;css_class - name of the CSS class to use for the
                                     SortableTable<br />
                 &nbsp;&nbsp;<b>Returns: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void
            </p>

            <h5 id="setBodyClass" class="small">
              setBodyClass (css_class)
            </h5>
            <p>
               &nbsp;&nbsp;Sets the name of the CSS class that will be given to the SortableTable
                       (tbody tag) <br /><br />
                 &nbsp;&nbsp;<b>Parameters: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;css_class - name of the CSS class to use for the
                                     SortableTable<br />
                 &nbsp;&nbsp;<b>Returns: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void
            </p>

            <h5 id="setRowHeaderClass" class="small">
              setRowHeaderClass (css_class)
            </h5>
            <p>
               &nbsp;&nbsp;Sets the name of the CSS class that will be given to the SortableTable
                       row header (tr tag) <br /><br />
                 &nbsp;&nbsp;<b>Parameters: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;css_class - name of the CSS class to use for the
                                     SortableTable row header<br />
                 &nbsp;&nbsp;<b>Returns: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void
            </p>

            <h5 id="setColHeaderClass" class="small">
              setColHeaderClass (css_class)
            </h5>
            <p>
               &nbsp;&nbsp;Sets the name of the CSS class that will be given to the SortableTable
                       column header (th tag) <br /><br />
                 &nbsp;&nbsp;<b>Parameters: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;css_class - name of the CSS class to use for the
                                     SortableTable column header<br />
                 &nbsp;&nbsp;<b>Returns: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void
            </p>

            <h5 id="setRowHighlightClass" class="small">
              setRowHighlightClass (css_class)
            </h5>
            <p>
               &nbsp;&nbsp;Sets the name of the CSS class that will be given to the SortableTable
                       highlighted rows (tr tag) <br /><br />
                 &nbsp;&nbsp;<b>Parameters: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;css_class - name of the CSS class to use for the
                                     SortableTable highlighted rows<br />
                 &nbsp;&nbsp;<b>Returns: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void
            </p>

            <h5 id="setRowSelectedClass" class="small">
              setRowSelectedClass (css_class)
            </h5>
            <p>
               &nbsp;&nbsp;Sets the name of the CSS class that will be given to the SortableTable
                       selected rows (tr tag) <br /><br />
                 &nbsp;&nbsp;<b>Parameters: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;css_class - name of the CSS class to use for the
                                     SortableTable selected rows<br />
                 &nbsp;&nbsp;<b>Returns: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void
            </p>

            <h5 id="setRowClass" class="small">
              setRowClass (css_class)
            </h5>
            <p>
               &nbsp;&nbsp;Sets the name of the CSS class that will be given to the SortableTable
                       rows (tr tag) <br /><br />
                 &nbsp;&nbsp;<b>Parameters: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;css_class - name of the CSS class to use for the
                                     SortableTable rows<br />
                 &nbsp;&nbsp;<b>Returns: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void
            </p>

            <h5 id="setRowAltClass" class="small">
              setRowAltClass (css_class)
            </h5>
            <p>
               &nbsp;&nbsp;Sets the name of the CSS class that will be given to the SortableTable
                       alternating rows (tr tag) <br /><br />
                 &nbsp;&nbsp;<b>Parameters: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;css_class - name of the CSS class to use for the
                                     SortableTable alternating rows<br />
                 &nbsp;&nbsp;<b>Returns: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void
            </p>

            <h5 id="setColClass" class="small">
              setColClass (css_class)
            </h5>
            <p>
               &nbsp;&nbsp;Sets the name of the CSS class that will be given to the SortableTable
                       columns (td tag) <br /><br />
                 &nbsp;&nbsp;<b>Parameters: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;css_class - name of the CSS class to use for the
                                     SortableTable columns<br />
                 &nbsp;&nbsp;<b>Returns: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void
            </p>

            <h5 id="setColumnDisplay" class="small">
              setColumnDisplay (col_indexes)
            </h5>
            <p>
               &nbsp;&nbsp;Allows for a particular selection of columns to be made visible<br /><br />
                 &nbsp;&nbsp;<b>Parameters: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;col_indexes - An integer Array containing the indicies
                                     of which columns should be visible (zero-indexed)<br />
                 &nbsp;&nbsp;<b>Returns: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void
            </p>

            <h5 id="setColumnOrder" class="small">
              setColumnOrder (order)
            </h5>
            <p>
               &nbsp;&nbsp;Allows for the order of the columns to be switched (always relative to original
                       DataSet)<br /><br />
                 &nbsp;&nbsp;<b>Parameters: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;order - An integer Array containing the indicies for
                                       the new column order<br />
                 &nbsp;&nbsp;<b>Returns: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void
            </p>

            <h5 id="construct" class="small">construct (data_set)</h5>
            <p>&nbsp;&nbsp;Constructs the SortableTable as DOM (according to HTML Structure)<br /><br />
                 &nbsp;&nbsp;<b>Parameters: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data_set - A DataSet object containing the tabular
                                     data to display<br />
                   &nbsp;&nbsp;<b>Returns: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a DOM object representing the widget on success<br />
               &nbsp;&nbsp;<b>Notes: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This must be called each time a change is made to the
                                         widget in order to reflect the
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding change in HTML
            </p>

            <h5 id="destruct" class="small">destruct ()</h5>
            <p>&nbsp;&nbsp;Free all memory associated with the SortableTable object<br /><br />
                 &nbsp;&nbsp;<b>Returns: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void<br />
                 &nbsp;&nbsp;<b>Notes: </b><br />
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This must be manually called before unloading the
                                     Web-page to prevent memory leaks
            </p>

            <h1 class="head2green">Example Usage</h1>
            <p>
              The examples to follow are designed to serve as a simple walkthrough on how you would add
              the SortableTable widget to a Web-page.  Each example is designed to build on those before
              it and therefore, the final example will show the overall picture regarding instantiating,
              customizing, building, displaying, and destroying the SortableTable widget correctly.
              While it is not necessary to follow each step exactly, this will provide a general idea
              on how it works.
            </p>

            <h1 class="head2green">Example 1 - Hooking it up</h1>
            <p>
              First create an HTML hook or placeholder in which the widget will be placed on the
              Web-page.  While each widget is self-contained, this is an easy way to map out the
              structure of the page without embedding lots of JavaScript within the HTML.
              &quot;div&quot; tags serve as great hooks, since they can be placed within almost any type of tag,
                and similarly, can contain almost any tag.
            </p>
<pre style="background-color:lightgreen; width:600px;">
&lt;html&gt;
  &lt;head&gt;
    &lt;script type=&ldquo;text/javascript&rdquo; src=&ldquo;./class.dataset.js&rdquo;&gt;&lt;/script&gt;
    &lt;script type=&ldquo;text/javascript&rdquo; src=&ldquo;./class.sortabletable.js&rdquo;&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id=&ldquo;table_hook&rdquo;&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;html&gt;
</pre>									

            <h1 class="head2green">Example 2 - Creating the SortableTable</h1>
            <p>
              To create the SortableTable, as in other object-oriented programming languages, the
              constructor must be called along with the use of the keyword <b>new</b>.
              Remember to create the DataSet widget required for the building the table content.
            </p>
<pre style="background-color:lightgreen; width:600px;">
&lt;html&gt;
  &lt;head&gt;
    &lt;script type=&ldquo;text/javascript&rdquo; src=&ldquo;./class.dataset.js&rdquo;&gt;&lt;/script&gt;
    &lt;script type=&ldquo;text/javascript&rdquo; src=&ldquo;./class.sortabletable.js&rdquo;&gt;&lt;/script&gt;
    &lt;script type=&ldquo;text/javascript&rdquo;&gt;

        var widget = null;
        var data = null;

        function init()
        {
            widget = new SortableTable('my_container', 'my_table');
            data = new DataSet(); 
        }
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body onload=&ldquo;init()&rdquo;&gt;
    &lt;div id=&ldquo;table_hook&rdquo;&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;html&gt;
</pre>								

            <h1 class="head2green">Example 3 - Controlling Look and Feel</h1>
            <p>
              Some JavaScript must be used in order to customize the colors, borders, and size of the
              SortableTable widget.  See the class diagram and documentation to determine which methods are
              available for use.  Rather than creating functions to set individual properties as with
              the ProgressBar widget, because the SortableTable has more properties that
              can be set, CSS classes are used instead.  These stylesheets can be external or
                internal.  For demonstration purposes, internal stylesheet classes will be used.
                The sample will create a SortableTable with the formatting described below.  Some browser
                detection code must be used externally in order to set the height of
                the &quot;tbody&quot; tag in the table.  In Firefox the height of the &quot;tbody&quot; tag
                must be set to a value smaller than that of the container (div tag) height.  Firefox,
                unlike Internet Explorer, uses the &quot;tbody&quot; tag for content scrolling.
            </p>
<pre style="background-color:lightgreen; width:600px;">
&lt;html&gt;
  &lt;head&gt;
    &lt;style type=&ldquo;text/css&rdquo;
      div.scrolling
      {
          width: 800px;
          height: 100px;	/* must be larger than table tbody height */
      }

      tr.head
      {
          font-family: arial ,sans-serif;
          font-size: 12px;
          text-align:center;
          background-color:#33B34B;
          color:white;
      }

      tbody.scroll
      {
          height: 85px;
      }/* Firefox Only */

      tr.light,
      tr.selected,
      tr.highlighted,
      tr.dark
      {
          font-family: helvetica, arial, sans-serif;
          font-size:11px;
          text-align:center;
          background-color: #C7E4C0;
          color: black;
          padding-right: 20px;
      }/* Dark Row - Alternate Color */

      tr.light
      {
          background-color:white;
      }/* Light Row - Default Color */

      tr.selected
      {
          background-color:yellow;	
      }/* Selected Row - Changed Color */

      tr.highlighted
      {
          background-color:#89BB84;
      }/* Highlighted Row - Changed Color */

      th.fixed
      {
          border-right: 2px solid black;
      }

      td.col1,
      td.col2,
      td.col3
      {
          border-right: 2px solid black;	
          text-align:left;
          padding-left:4px;
      }

      td.col4,
      td.col5,
      td.col6
      {
          border-right: 2px solid black;		
          text-align:right;
          padding-right:4px;	
      }

      td.col6
      {	
          border-right: 2px solid black;	
          padding-right:20px;	
      }
    &lt;/style&gt;
    &lt;script type=&ldquo;text/javascript&rdquo; src=&ldquo;./class.dataset.js&rdquo;&gt;&lt;/script&gt;
    &lt;script type=&ldquo;text/javascript&rdquo; src=&ldquo;./class.sortabletable.js&rdquo;&gt;&lt;/script&gt;
    &lt;script type=&ldquo;text/javascript&rdquo;&gt;

        var widget = null;
        var data = null;

        function init()
        {
            widget = new SortableTable('my_container', 'my_table');
            data = new DataSet(); 

            table.setContainerClass('scrolling');

            if(navigator.appName.indexOf('Microsoft') == -1)
            {
                widget.setBodyClass('scroll');
            }//Non-IE Browser   

            widget.setRowHeaderClass('head');
            widget.setColHeaderClass('fixed');
            widget.setRowClass('light');
            widget.setRowAltClass('dark');
            widget.setRowHighlightClass('highlighted');
            widget.setRowSelectedClass('selected');
            widget.setColClass(['col1','col2','col3','col4','col5','col6']);

            data.addDataRow(['Col 1 Header', 'Col 2 Header']);
            data.addDataRow(['Data Row 1', 'Data Row 1']);
            data.addDataRow(['Data Row 2', 'Data Row 2']);
        }
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body onload=&ldquo;init()&rdquo;&gt;
    &lt;div id=&ldquo;table_hook&rdquo;&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;html&gt;
</pre>					
            <h1 class="head2green">Example 4 - Binding External Events</h1>
            <p>
              By default, events for highlighting, restoring, and selecting are embedded
              in each of the table rows and a sorting event is embedded on each table
              column.  Although it is possible to attach external events to
              the table rows using the DOM object in which the table is stored,
              it is not recommended.  The use of the addRowListener() method in the SortableTable
              object guarantees that events will be executed in the order in which they
              are added through the Event Queuing System.  The destruct() and purgeEvents() methods
              will attempt to resolve memory leaks to events bound in this way.
            </p>
<pre style="background-color:lightgreen; width:600px;">
&lt;html&gt;
  &lt;head&gt;
    &lt;style type=&ldquo;text/css&rdquo;
      div.scrolling
      {
          width: 800px;
          height: 100px;	/* must be larger than table tbody height */
      }

      tr.head
      {
          font-family: arial ,sans-serif;
          font-size: 12px;
          text-align:center;
          background-color:#33B34B;
          color:white;
      }

      tbody.scroll
      {
          height: 85px;
      }/* Firefox Only */

      tr.light,
      tr.selected,
      tr.highlighted,
      tr.dark
      {
          font-family: helvetica, arial, sans-serif;
          font-size:11px;
          text-align:center;
          background-color: #C7E4C0;
          color: black;
          padding-right: 20px;
      }/* Dark Row - Alternate Color */

      tr.light
      {
          background-color:white;
      }/* Light Row - Default Color */

      tr.selected
      {
          background-color:yellow;	
      }/* Selected Row - Changed Color */

      tr.highlighted
      {
          background-color:#89BB84;
      }/* Highlighted Row - Changed Color */

      th.fixed
      {
          border-right: 2px solid black;
      }

      td.col1,
      td.col2,
      td.col3
      {
          border-right: 2px solid black;	
          text-align:left;
          padding-left:4px;
      }

      td.col4,
      td.col5,
      td.col6
      {
          border-right: 2px solid black;		
          text-align:right;
          padding-right:4px;	
      }

      td.col6
      {	
          border-right: 2px solid black;	
          padding-right:20px;	
      }
    &lt;/style&gt;
    &lt;script type=&ldquo;text/javascript&rdquo; src=&ldquo;./class.dataset.js&rdquo;&gt;&lt;/script&gt;
    &lt;script type=&ldquo;text/javascript&rdquo; src=&ldquo;./class.sortabletable.js&rdquo;&gt;&lt;/script&gt;
    &lt;script type=&ldquo;text/javascript&rdquo;&gt;

        var widget = null;
        var data = null;

        function rowClick()
        {
            alert('You have selected a row');	        
        }

        function init()
        {
            widget = new SortableTable('my_container', 'my_table');
            data = new DataSet(); 

            table.setContainerClass('scrolling');

            if(navigator.appName.indexOf('Microsoft') == -1)
            {
                widget.setBodyClass('scroll');
            }//Non-IE Browser   

            widget.setRowHeaderClass('head');
            widget.setColHeaderClass('fixed');
            widget.setRowClass('light');
            widget.setRowAltClass('dark');
            widget.setRowHighlightClass('highlighted');
            widget.setRowSelectedClass('selected');
            widget.setColClass(['col1','col2','col3','col4','col5','col6']);

            widget.addRowListener(['click', rowClick, false]);

            data.addDataRow(['Col 1 Header', 'Col 2 Header']);
            data.addDataRow(['Data Row 1', 'Data Row 1']);
            data.addDataRow(['Data Row 2', 'Data Row 2']);
        }
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body onload=&ldquo;init()&rdquo;&gt;
    &lt;div id=&ldquo;table_hook&rdquo;&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;html&gt;
</pre>										

            <h1 class="head2green">Example 5 - Displaying the SortableTable</h1>
            <p>
              To use the widget in a Web-page the construct() method must be called in order to
              create the HTML DOM representation of the widget. This DOM object must then be
              appended to the hook that was previously created.  This will allow the SortableTable to
              become visible on the page.  If the widget is going to be updated
                regularly, whether via AJAX or by having the user perform an action such as clicking a
                button, the construct() method must be called each time and the widget must be appended to the
                hook each time. Clear the hook of any previously appended
                SortableTable widgets if you only want one to appear on the Web-page (that is, set the
                innerHTML property of the hook to an empty string).
            </p>
<pre style="background-color:lightgreen; width:600px;">
&lt;html&gt;
  &lt;head&gt;
    &lt;style type=&ldquo;text/css&rdquo;
      div.scrolling
      {
          width: 800px;
          height: 100px;	/* must be larger than table tbody height */
      }

      tr.head
      {
          font-family: arial ,sans-serif;
          font-size: 12px;
          text-align:center;
          background-color:#33B34B;
          color:white;
      }

      tbody.scroll
      {
          height: 85px;
      }/* Firefox Only */

      tr.light,
      tr.selected,
      tr.highlighted,
      tr.dark
      {
          font-family: helvetica, arial, sans-serif;
          font-size:11px;
          text-align:center;
          background-color: #C7E4C0;
          color: black;
          padding-right: 20px;
      }/* Dark Row - Alternate Color */

      tr.light
      {
          background-color:white;
      }/* Light Row - Default Color */

      tr.selected
      {
          background-color:yellow;	
      }/* Selected Row - Changed Color */

      tr.highlighted
      {
          background-color:#89BB84;
      }/* Highlighted Row - Changed Color */

      th.fixed
      {
          border-right: 2px solid black;
      }

      td.col1,
      td.col2,
      td.col3
      {
          border-right: 2px solid black;	
          text-align:left;
          padding-left:4px;
      }

      td.col4,
      td.col5,
      td.col6
      {
          border-right: 2px solid black;		
          text-align:right;
          padding-right:4px;	
      }

      td.col6
      {	
          border-right: 2px solid black;	
          padding-right:20px;	
      }
    &lt;/style&gt;
    &lt;script type=&ldquo;text/javascript&rdquo; src=&ldquo;./class.dataset.js&rdquo;&gt;&lt;/script&gt;
    &lt;script type=&ldquo;text/javascript&rdquo; src=&ldquo;./class.sortabletable.js&rdquo;&gt;&lt;/script&gt;
    &lt;script type=&ldquo;text/javascript&rdquo;&gt;

        var widget = null;
        var data = null;

        function rowClick()
        {
            alert('You have selected a row');	        
        }

        function init()
        {
            widget = new SortableTable('my_container', 'my_table');
            data = new DataSet(); 

            table.setContainerClass('scrolling');

            if(navigator.appName.indexOf('Microsoft') == -1)
            {
                widget.setBodyClass('scroll');
            }//Non-IE Browser   

            widget.setRowHeaderClass('head');
            widget.setColHeaderClass('fixed');
            widget.setRowClass('light');
            widget.setRowAltClass('dark');
            widget.setRowHighlightClass('highlighted');
            widget.setRowSelectedClass('selected');
            widget.setColClass(['col1','col2','col3','col4','col5','col6']);

            widget.addRowListener(['click', rowClick, false]);

            data.addDataRow(['Col 1 Header', 'Col 2 Header']);
            data.addDataRow(['Data Row 1', 'Data Row 1']);
            data.addDataRow(['Data Row 2', 'Data Row 2']);

            var hook = document.getElementById('table_hook');
            var temp = null;
            temp = widget.construct(data)
            hook.innerHTML = '';
            hook.appendChild(temp);            
        }
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body onload=&ldquo;init()&rdquo;&gt;
    &lt;div id=&ldquo;table_hook&rdquo;&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;html&gt;
</pre>											

            <h1 class="head2green">Example 6 - Cleaning up Memory</h1>
            <p>
              To ensure that all memory associated with the widget is freed upon closing the Web-page or
              browser, it is necessary to call the destruct() method.  While most programming languages
              have a destructor that is implicitly called, here, a explicit function call must be made.
              The hook to which the widget was appended should also be cleared.
            </p>
<pre style="background-color:lightgreen; width:600px;">
&lt;html&gt;
  &lt;head&gt;
    &lt;style type=&ldquo;text/css&rdquo;
      div.scrolling
      {
          width: 800px;
          height: 100px;	/* must be larger than table tbody height */
      }

      tr.head
      {
          font-family: arial ,sans-serif;
          font-size: 12px;
          text-align:center;
          background-color:#33B34B;
          color:white;
      }

      tbody.scroll
      {
          height: 85px;
      }/* Firefox Only */

      tr.light,
      tr.selected,
      tr.highlighted,
      tr.dark
      {
          font-family: helvetica, arial, sans-serif;
          font-size:11px;
          text-align:center;
          background-color: #C7E4C0;
          color: black;
          padding-right: 20px;
      }/* Dark Row - Alternate Color */

      tr.light
      {
          background-color:white;
      }/* Light Row - Default Color */

      tr.selected
      {
          background-color:yellow;	
      }/* Selected Row - Changed Color */

      tr.highlighted
      {
          background-color:#89BB84;
      }/* Highlighted Row - Changed Color */

      th.fixed
      {
          border-right: 2px solid black;
      }

      td.col1,
      td.col2,
      td.col3
      {
          border-right: 2px solid black;	
          text-align:left;
          padding-left:4px;
      }

      td.col4,
      td.col5,
      td.col6
      {
          border-right: 2px solid black;		
          text-align:right;
          padding-right:4px;	
      }

      td.col6
      {	
          border-right: 2px solid black;	
          padding-right:20px;	
      }
    &lt;/style&gt;
    &lt;script type=&ldquo;text/javascript&rdquo; src=&ldquo;./class.dataset.js&rdquo;&gt;&lt;/script&gt;
    &lt;script type=&ldquo;text/javascript&rdquo; src=&ldquo;./class.sortabletable.js&rdquo;&gt;&lt;/script&gt;
    &lt;script type=&ldquo;text/javascript&rdquo;&gt;

        var widget = null;
        var data = null;

        function rowClick()
        {
            alert('You have selected a row');	        
        }

        function init()
        {
            widget = new SortableTable('my_container', 'my_table');
            data = new DataSet(); 

            table.setContainerClass('scrolling');

            if(navigator.appName.indexOf('Microsoft') == -1)
            {
                widget.setBodyClass('scroll');
            }//Non-IE Browser   

            widget.setRowHeaderClass('head');
            widget.setColHeaderClass('fixed');
            widget.setRowClass('light');
            widget.setRowAltClass('dark');
            widget.setRowHighlightClass('highlighted');
            widget.setRowSelectedClass('selected');
            widget.setColClass(['col1','col2','col3','col4','col5','col6']);

            widget.addRowListener(['click', rowClick, false]);

            data.addDataRow(['Col 1 Header', 'Col 2 Header']);
            data.addDataRow(['Data Row 1', 'Data Row 1']);
            data.addDataRow(['Data Row 2', 'Data Row 2']);

            var hook = document.getElementById('table_hook');
            var temp = null;
            temp = widget.construct(data)
            hook.innerHTML = '';
            hook.appendChild(temp);            
        }

        function destroy()
        {
            widget.destruct();
            document.getElementById('table_hook').innerHTML = '';                	        
        }              
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body onload=&ldquo;init()&rdquo; unload=&ldquo;destroy()&rdquo;&gt;
    &lt;div id=&ldquo;table_hook&rdquo;&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;html&gt;
</pre>											

            <h1 class="head2green">Special Notes</h1>
            <ul>
              <li>
                This particular widget does not use default style in the absence of CSS classes.
              </li>
              <li>
                Always call the destruct() method when unloading the page to prevent memory leaks.
              </li>
              <li>
                Try not to use HTML content that can gain focus in the DataSet object.
                For example, hyperlinks and HTML form controls can gain focus.  There is currently a
                bug in the SortableTable widget where some of the CSS styles will disappear if the
                content within the table gains focus.
              </li>
              <li>
                Since a DataSet object can accept any data including HTML,
                it is possible to embed other widgets within the SortableTable.  However, if these
                widgets contain events, the SortableTable will not remove the events
                when the destruct() method is called.  It is up to the programmer to do so.
              </li>
              <li>
                The setColumnDisplay() and setColumnOrder() methods were added to
                increase the flexibilty of the table in the situation where
                the user might want to select a subset of columns or where the programmer might
                add all of the data to the table but will conceal or re-order specific parts of
                the data.  The order of the columns is always changed according to the original
                DataSet object that was passed in during the construct() function call.  The setColumnDisplay()
                method is automatically called if the order is changed.
              </li>
              <li>
                Like the other widgets that use CSS classes for formatting, it is not necessary to
                call these methods again unless you need to change the style of the widget
                between updates.
              </li>
            </ul>

            <h1 class="head2green">Lessons Learned</h1>
            <p>
              From a cross-browser implementation perspective, the SortableTable widget was the most
              difficult to create.  Firstly, the way in which scroll bars are
              handled between Internet Explorer and Firefox is different.  While
              one browser utilizes the tbody tag for vertical scrollbar placement, the other
              requires the use of a div tag as a container for the scrollbar.
              Fixing the column headers during vertical or horizontal scrolling faces a similar
              problem.  While on Firefox it can be performed easily, Internet Explorer requires
              a hack in order to function correctly.  Similarly, the horizontal scrolling on
              Internet Explorer 7 requires periodic refreshes to update header placement while
              Firefox requires the use of a different set of properties.

              <br /><br />
              The second major problem encountered was event binding implementations in different browsers.
              Internet Explorer features a two-parameter function called attachEvent(), while
              DOM nodes in Firefox require a three-parameter function called addEventListener().
              Similarly, the names used for the event types differ between the browsers in that
              Internet Explorer places the word &quot;on&quot; before the name of each event type
              (for example, &quot;onclick&quot;) while Firefox requires no such thing.

              <br /><br />
              The third problem was the order in which the events were executed.
              In Firefox, multiple events of the same type (bound to the table rows) are executed in order in which
              they are attached, while Internet Explorer does not seem to guarantee event order.
              Different approaches were used to correct the problem, however, the event queuing
              system proved the most effective.
            </p>

              <p class="cp">
              <br />
                &copy; Copyright IBM Corp. 2007. All rights reserved.
              IBM&reg;, the IBM logo, DB2&reg;, AIX&reg;, and pureXML&trade; are
              registered trademarks of International Business Machines Corporation in the
              United States, other countries, or both.

              Zend and Zend Core are registered trademarks of Zend Technologies Limited,
              in the United States, other countries, or both.

              Mozilla&reg; and Firefox&reg; are registered trademarks of the Mozilla Foundation in the
              United States and other countries.

              Microsoft, Windows, Windows NT, Internet Explorer&reg;, and the Windows logo are
              trademarks of Microsoft Corporation in the United States, other countries, or
              both.

              Linux is a registered trademark of Linus Torvalds in the United
              States, other countries, or both.

              Other company, product, or service names
              may be trademarks or service marks of others.
            </p>
          </div>
        </td>
      </tr>
    </table>

    <div class="navigation">
      <img src="../../images/FS_ban_mosaic.gif" alt="Data Management Mosiac imagery" />
        <div class="container">
          <div class="left-nav">
              <div class="top-level">
                <a href="../../index.html">Widget Library</a>
                    <div class="second-level">
                  <a href="../accordion/class.accordion.html">Accordion Widget</a>
                    <a href="../ajaxupdate/class.ajaxupdate.html">AJAXUpdate Widget</a>
                      <a href="../contentbar/class.contentbar.html">ContentBar Widget</a>
                    <a href="../contentpane/class.contentpane.html">ContentPane Widget</a>
                    <a href="../dashboard/class.dashboard.html">Dashboard Widget</a>
                    <a href="../dataset/class.dataset.html">DataSet Widget</a>
                    <a href="../dialog/class.dialog.html">Dialog Widget</a>
                    <a href="../progressbar/class.progressbar.html">ProgressBar Widget</a>
                    <a class="active" href="../sortabletable/class.sortabletable.html">SortableTable Widget</a>
                    <a href="../titlebar/class.titlebar.html">TitleBar Widget</a>
                </div>
              </div>
        </div>
      </div>
    </div>
  </body>
</html>